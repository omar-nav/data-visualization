!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=5)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.value=t}return Object.defineProperty(t.prototype,"size",{get:function(){var t=1;return this.left&&(t+=this.left.size),this.right&&(t+=this.right.size),t},enumerable:!0,configurable:!0}),t.prototype.withParent=function(t){return this.parent=t,this},t.prototype.withoutParent=function(){return this.parent=void 0,this},t.prototype.setLeft=function(t){this.left=t.withParent(this)},t.prototype.setRight=function(t){this.right=t.withParent(this)},Object.defineProperty(t.prototype,"isLeftChild",{get:function(){return!!this.parent&&this.parent.left===this},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRightChild",{get:function(){return!!this.parent&&this.parent.right===this},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"leftmostDescendant",{get:function(){return this.left?this.left.leftmostDescendant:this},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rightmostDescendant",{get:function(){return this.right?this.right.rightmostDescendant:this},enumerable:!0,configurable:!0}),t.prototype.prettyPrintValue=function(){return""+this.value},t.prototype.prettyPrint=function(t){void 0===t&&(t="");var e=t.substr(0,t.length-1)+(this.parent?this.isRightChild?"â”œ":"â””":"")+"â”€â”¬â”€ "+this.prettyPrintValue()+"\n";return this.right?e+=this.right.prettyPrint(t+" â”‚"):e+=t+" â”œâ”€â”€â”€ Ã—\n",this.left?e+=this.left.prettyPrint(t+"  "):e+=t+" â””â”€â”€â”€ Ã—\n",e},t.prototype.toString=function(){return this.prettyPrint()},t}();e.BinaryTree=r},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(e,"__esModule",{value:!0});var a=n(2),s=function(t){function e(e,n,r){void 0===n&&(n=function(t,e){return t<e}),void 0===r&&(r=function(t,e){return t===e});var i=t.call(this,e)||this;return i.cmp=n,i.eq=r,i}return i(e,t),e.fromArray=function(t,n,r){if(0!==t.length){for(var i=new e(t[0],n,r),o=1;o<t.length;o++)i.insert(t[o]);return i}},e.prototype.findParentAndSideFor=function(t){for(var e=this;;)if(this.cmp(t,e.value)){if(!e.left)return[e,"left"];e=e.left}else{if(!e.right)return[e,"right"];e=e.right}},e.prototype.insert=function(t){var n=o(this.findParentAndSideFor(t),2),r=n[0];return r[n[1]]=new e(t,this.cmp,this.eq).withParent(r),this},e.prototype.search=function(t){for(var e=this;e&&void 0!==e.value;){if(this.eq(e.value,t))return e;e=this.cmp(t,e.value)?e.left:e.right}},e.prototype.contains=function(t){return Boolean(this.search(t))},e.prototype.remove=function(t){var n=this.search(t);if(!n)return this;var r=null;if(n!==this||this.parent||(this.parent=new e(this.value,this.cmp,this.eq),this.parent.left=this.withParent(this.parent),r=this.parent),a.assert(void 0!==n.parent),n.left&&n.right){var i=n.right.leftmostDescendant;n.value=i.value;var o=i.parent;o[l=o.left===i?"left":"right"]=i.right,i.right&&(i.right.parent=o)}else{var s=n.parent,l=s.left===n?"left":"right";n.left?(s[l]=n.left,n.left.parent=n.parent):(s[l]=n.right,n.right&&(n.right.parent=n.parent))}return r?r.left?r.left.withoutParent():void 0:this},e.prototype.getPredecessor=function(t){return this.getNeighbor(t,!0)},e.prototype.getSuccessor=function(t){return this.getNeighbor(t,!1)},e.prototype.getNeighbor=function(t,e){var n=this.search(t);if(n){var r,i;if(e?(r="left",i="rightmostDescendant"):(r="right",i="leftmostDescendant"),n[r])return n[r][i].value;for(;n&&n.parent&&n.parent[r]===n;)n=n.parent;if(n.parent)return n.parent.value}},e}(n(0).BinaryTree);e.BinarySearchTree=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assert=function(t,e){if(!t)throw new Error(e)}},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(e,"__esModule",{value:!0});var a=n(1),s=n(2),l=function(t){function e(e,n,r){void 0===n&&(n=function(t,e){return t<e}),void 0===r&&(r=function(t,e){return t===e});var i=t.call(this,e,n)||this;return i.cmp=n,i.eq=r,i.isRed=!1,i}return i(e,t),Object.defineProperty(e.prototype,"color",{get:function(){return this.isRed?"red":"black"},enumerable:!0,configurable:!0}),e.fromArray=function(t,n){if(0!==t.length){for(var r=new e(t[0],n),i=1;i<t.length;i++)r.insert(t[i]);return r}},e.prototype.prettyPrintValue=function(){return this.isRed?"[31m"+this.value+"[0m":""+this.value},e.prototype.rotateLeft=function(t){s.assert(t.right);var e=t.value,n=t.isRed,r=t.right;t.right=r.right,t.right&&(t.right.parent=t),r.right=r.left,r.left=t.left,r.left&&(r.left.parent=r),t.left=r,t.value=r.value,r.value=e,t.isRed=r.isRed,r.isRed=n},e.prototype.rotateRight=function(t){s.assert(t.left);var e=t.value,n=t.isRed,r=t.left;t.left=r.left,t.left&&(t.left.parent=t),r.left=r.right,r.right=t.right,r.right&&(r.right.parent=r),t.right=r.withParent(t),t.value=r.value,r.value=e,t.isRed=r.isRed,r.isRed=n},e.prototype.insertFixup=function(t){for(var e,n=t,r=t;(null===(e=n.parent)||void 0===e?void 0:e.parent)&&n.parent.isRed;){var i;if(n.parent.isLeftChild)(null==(i=n.parent.parent.right)?void 0:i.isRed)?(n.parent.isRed=!1,i.isRed=!1,n.parent.parent.isRed=!0,n=n.parent.parent):(n.isRightChild&&(n=n.parent,this.rotateLeft(n),n.left===r&&(r=n),n=n.left),s.assert(n.parent),s.assert(n.parent.parent),n.parent.isRed=!1,n.parent.parent.isRed=!0,this.rotateRight(n.parent.parent),n.parent.right===r&&(r=n.parent));else(null==(i=n.parent.parent.left)?void 0:i.isRed)?(n.parent.isRed=!1,i.isRed=!1,n.parent.parent.isRed=!0,n=n.parent.parent):(n.isLeftChild&&(n=n.parent,this.rotateRight(n),n.right===r&&(r=n),n=n.right),s.assert(n.parent),s.assert(n.parent.parent),n.parent.isRed=!1,n.parent.parent.isRed=!0,this.rotateLeft(n.parent.parent),n.parent.left===r&&(r=n.parent))}return this.isRed=!1,r},e.prototype.insert=function(t){return this.insertAndReturnNode(t),this},e.prototype.insertAndReturnNode=function(t){var n=o(this.findParentAndSideFor(t),2),r=n[0],i=n[1];s.assert(r instanceof e,"Mixed tree types");var a=new e(t,this.cmp).withParent(r);return a.isRed=!0,r[i]=a,this.insertFixup(a)},e.prototype.transplant=function(t,e){t.parent?t.isLeftChild?t.parent.left=null==e?void 0:e.withParent(t.parent):t.parent.right=null==e?void 0:e.withParent(t.parent):e&&(this.isRed=e.isRed,this.value=e.value,this.left=e.left,this.right=e.right,e.parent=t.parent)},e.prototype.deleteFixup=function(t,e){for(var n,r,i,o,a,l,u,h=t,c=e;h&&!(null===(n=h[c])||void 0===n?void 0:n.isRed);){var f;if("left"===c)(null==(f=h.right)?void 0:f.isRed)&&(f.isRed=!1,h.isRed=!0,this.rotateLeft(h),f=(h=h.left).right),s.assert(f),(null===(r=f.left)||void 0===r?void 0:r.isRed)||(null===(i=f.right)||void 0===i?void 0:i.isRed)?((null===(o=f.right)||void 0===o?void 0:o.isRed)||(f.left&&(f.left.isRed=!1),f.isRed=!0,this.rotateRight(f),f=h.right),s.assert(f),f.isRed=h.isRed,h.isRed=!1,f.right&&(f.right.isRed=!1),this.rotateLeft(h),h=void 0,this.isRed=!1):(f.isRed=!0,c=(null==h?void 0:h.isLeftChild)?"left":"right",h=h.parent);else(null==(f=h.left)?void 0:f.isRed)&&(f.isRed=!1,h.isRed=!0,this.rotateRight(h),f=(h=h.right).left),s.assert(f,"w must be defined"),(null===(a=f.right)||void 0===a?void 0:a.isRed)||(null===(l=f.left)||void 0===l?void 0:l.isRed)?((null===(u=f.left)||void 0===u?void 0:u.isRed)||(f.right&&(f.right.isRed=!1),f.isRed=!0,this.rotateLeft(f),f=h.left),s.assert(f),f.isRed=h.isRed,h.isRed=!1,f.left&&(f.left.isRed=!1),this.rotateRight(h),h=void 0,this.isRed=!1):(f.isRed=!0,c=h.isLeftChild?"left":"right",h=h.parent)}if(h){var p=h[c];p&&(p.isRed=!1)}else this.isRed=!1},e.prototype.remove=function(t){var n=this.search(t);if(!(n&&n instanceof e))return this;var r,i=n.left,o=n.right,a=n.isRed,s=n,l=s.isRed,u="left";if(i)if(o){if(l=(s=o.leftmostDescendant).isRed,r=s,u="right",s.parent===n){var h=r[u];h&&(h.parent=s)}else this.transplant(s,s.right),r=s.parent,u="left",s.right=o.withParent(s);this.transplant(n,s),n===this?(this.left=i.withParent(this),s.right&&(this.right=s.right.withParent(this)),this.isRed=a,r===s&&(r=this)):(s.left=i.withParent(s),s.isRed=a)}else r=n===this?void 0:n,u="left",this.transplant(n,i);else{if(r=n===this?void 0:n,u="right",!o&&!n.parent)return;o||(r=n.parent,u=n.isLeftChild?"left":"right"),this.transplant(n,o)}return l||this.deleteFixup(r,u),this},e}(a.BinarySearchTree);e.RBTree=l},function(t,e){t.exports=L},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(6),n(11),n(12)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),i=n(4);i.Timeline=i.GeoJSON.extend({times:null,ranges:null,initialize:function(t,e){var n=this;void 0===e&&(e={}),this.times=[],this.ranges=new r.IntervalTree;i.GeoJSON.prototype.initialize.call(this,null,e),i.Util.setOptions(this,{drawOnSetTime:!0}),i.Util.setOptions(this,e),this.options.getInterval&&(this._getInterval=function(t){return n.options.getInterval(t)}),t&&this._process(t)},_getInterval:function(t){if(t.properties&&"start"in t.properties&&"end"in t.properties){var e=t.properties,n=e.startExclusive,r=e.endExclusive;return{start:new Date(t.properties.start).getTime(),end:new Date(t.properties.end).getTime(),startExclusive:!0===n||"true"===n,endExclusive:!0===r||"true"===r}}return!1},_process:function(t){var e,n,r,i,o=this;if(t.features.forEach((function(t){var e=o._getInterval(t);e&&(o.ranges.insert(e.start+(e.startExclusive?1:0),e.end-(e.endExclusive?1:0),t),o.times.push(e.start),o.times.push(e.end))})),0===this.times.length)return this.start=null!==(e=this.options.start)&&void 0!==e?e:1/0,this.end=null!==(n=this.options.end)&&void 0!==n?n:-1/0,void(this.time=this.start);this.times.sort((function(t,e){return t-e})),this.times=this.times.reduce((function(t,e,n){return 0===n||t[t.length-1]!==e&&t.push(e),t}),[this.times[0]]),this.start=null!==(r=this.options.start)&&void 0!==r?r:this.times[0],this.end=null!==(i=this.options.end)&&void 0!==i?i:this.times[this.times.length-1],this.time=this.start},setTime:function(t){this.time="number"==typeof t?t:new Date(t).getTime(),this.options.drawOnSetTime&&this.updateDisplayedLayers(),this.fire("change")},updateDisplayedLayers:function(){var t=this,e=this.ranges.lookup(this.time),n=this.getLayers(),r=[];n.forEach((function(t){for(var n=!1,i=0;i<e.length;i++)if(t.feature===e[i]){n=!0,e.splice(i,1);break}n||r.push(t)})),r.forEach((function(e){return t.removeLayer(e)})),e.forEach((function(e){return t.addData(e)}))}}),i.timeline=function(t,e){return new i.Timeline(t,e)}},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(8)),r(n(9)),r(n(0)),r(n(1)),r(n(3)),r(n(10))},function(t,e,n){"use strict";var r=this&&this.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function a(t,e){return e?[t.right,t.left]:[t.left,t.right]}Object.defineProperty(e,"__esModule",{value:!0}),e.inorder=function t(e,n){var s,l,u;return void 0===n&&(n=!1),r(this,(function(r){switch(r.label){case 0:return e.value?(s=i(a(e,n),2),l=s[0],u=s[1],l?[5,o(t(l,n))]:[3,2]):[2,void 0];case 1:r.sent(),r.label=2;case 2:return[4,e.value];case 3:return r.sent(),u?[5,o(t(u,n))]:[3,5];case 4:r.sent(),r.label=5;case 5:return[2]}}))},e.preorder=function t(e,n){var s,l,u;return void 0===n&&(n=!1),r(this,(function(r){switch(r.label){case 0:return e.value?(s=i(a(e,n),2),l=s[0],u=s[1],[4,e.value]):[2,void 0];case 1:return r.sent(),l?[5,o(t(l,n))]:[3,3];case 2:r.sent(),r.label=3;case 3:return u?[5,o(t(u,n))]:[3,5];case 4:r.sent(),r.label=5;case 5:return[2]}}))},e.postorder=function t(e,n){var s,l,u;return void 0===n&&(n=!1),r(this,(function(r){switch(r.label){case 0:return e.value?(s=i(a(e,n),2),l=s[0],u=s[1],l?[5,o(t(l,n))]:[3,2]):[2,void 0];case 1:r.sent(),r.label=2;case 2:return u?[5,o(t(u,n))]:[3,4];case 3:r.sent(),r.label=4;case 4:return[4,e.value];case 5:return r.sent(),[2]}}))}},function(t,e,n){"use strict";var r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};function i(t){return Math.floor((t-1)/2)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e=function(t,e){return t<e}),this.cmp=e,this.heap=t;for(var n=Math.floor(this.heap.length/2)-1;n>=0;n--)this.heapify(n)}return Object.defineProperty(t.prototype,"size",{get:function(){return this.heap.length},enumerable:!0,configurable:!0}),t.prototype.push=function(t){for(var e=this.heap.push(t)-1,n=!0;n;){var r=i(e);r>=0&&this.cmp(t,this.heap[r])?(this.swap(e,r),e=r):n=!1}return this.size},t.prototype.pop=function(){var t=this.heap.shift();if(void 0===t)return null;var e=this.heap.pop();return e&&(this.heap.unshift(e),this.heapify()),t},t.prototype.contains=function(t){return this.heap.indexOf(t)>=0},t.prototype.heapify=function(t){var e=this;void 0===t&&(t=0);var n,r=this.heap.length,i=t;(n=t,[2*n+1,2*n+2]).forEach((function(t){t<r&&e.cmp(e.heap[t],e.heap[i])&&(i=t)})),i!==t&&(this.swap(i,t),this.heapify(i))},t.prototype.swap=function(t,e){var n;n=r([this.heap[e],this.heap[t]],2),this.heap[t]=n[0],this.heap[e]=n[1]},t.prototype.findMin=function(){return this.heap[0]},t.prototype.findMax=function(){return this.heap[0]},t}();e.Heap=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3);function i(t){var e=t.value.high;return t.left&&(e=Math.max(e,t.left.value.max)),t.right&&(e=Math.max(e,t.right.value.max)),t.value.max=e,e}var o=function(){function t(t){void 0===t&&(t=function(t,e){return t===e}),this.eq=t,this._size=0,this.tree=void 0}return Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),t.prototype.insert=function(t,e,n){var o=this,a={low:t,high:e,value:n,max:e};if(this.tree){var s=this.tree.insertAndReturnNode(a);for(s.left&&i(s.left),s.right&&i(s.right),i(s);s.parent;)i(s.parent),s=s.parent}else this.tree=new r.RBTree(a,(function(t,e){return t.low<e.low}),(function(t,e){return t.low===e.low&&t.high===e.high&&o.eq(t.value,e.value)}));return this._size++,this},t.prototype.remove=function(t,e,n){return this.tree&&this.tree.remove({low:t,high:e,value:n,max:e}),this},t.prototype.lookup=function(t){if(!this.tree)return[];for(var e=[],n=[this.tree];n.length;){var r=n.pop();r&&(r.value.low<=t&&r.value.high>=t&&e.push(r.value.value),r.left&&r.left.value.max>=t&&n.push(r.left),r.right&&r.value.low<=t&&r.right.value.max>=t&&n.push(r.right))}return e},t.prototype.overlap=function(t,e){if(!this.tree)return[];for(var n=[],r=[this.tree];r.length;){var i=r.pop();i&&(t<=i.value.high&&e>=i.value.low&&n.push(i.value.value),i.left&&i.left.value.max>=t&&r.push(i.left),i.right&&i.right.value.max>=t&&r.push(i.right))}return n},t}();e.IntervalTree=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4);r.TimelineSliderControl=r.Control.extend({initialize:function(t){void 0===t&&(t={});this.timelines=[],r.Util.setOptions(this,{duration:1e4,enableKeyboardControls:!1,enablePlayback:!0,formatOutput:function(t){return""+(t||"")},showTicks:!0,waitToUpdateMap:!1,position:"bottomleft",steps:1e3,autoPlay:!1}),r.Util.setOptions(this,t),this.start=t.start||0,this.end=t.end||0},_getTimes:function(){var t=this,e=[];if(this.timelines.forEach((function(n){var r=n.times.filter((function(e){return e>=t.start&&e<=t.end}));e.push.apply(e,r)})),e.length){e.sort((function(t,e){return t-e}));var n=[e[0]];return e.reduce((function(t,e){return t!==e&&n.push(e),e})),n}return e},_recalculate:function(){var t=void 0!==this.options.start,e=void 0!==this.options.end,n=this.options.duration,r=1/0,i=-1/0;this.timelines.forEach((function(t){t.start<r&&(r=t.start),t.end>i&&(i=t.end)})),t||(this.start=r,this._timeSlider.min=(r===1/0?0:r).toString(),this._timeSlider.value=this._timeSlider.min),e||(this.end=i,this._timeSlider.max=(i===-1/0?0:i).toString()),this._stepSize=Math.max(1,(this.end-this.start)/this.options.steps),this._stepDuration=Math.max(1,n/this.options.steps)},_nearestEventTime:function(t,e){void 0===e&&(e=1);for(var n=this._getTimes(),r=!1,i=n[0],o=1;o<n.length;o++){var a=n[o];if(r)return a;if(a>=t){if(-1===e)return i;if(a!==t)return a;r=!0}i=a}return i},_createDOM:function(){var t=r.DomUtil.create("div",["leaflet-control-layers","leaflet-control-layers-expanded","leaflet-timeline-control"].join(" "));if(this.container=t,this.options.enablePlayback){var e=r.DomUtil.create("div","sldr-ctrl-container",t),n=r.DomUtil.create("div","button-container",e);this._makeButtons(n),this.options.enableKeyboardControls&&this._addKeyListeners(),this._makeOutput(e)}this._makeSlider(t),this.options.showTicks&&this._buildDataList(t),this.options.autoPlay&&this._autoPlay()},_addKeyListeners:function(){var t=this;this._listener=function(e){return t._onKeydown(e)},document.addEventListener("keydown",this._listener)},_removeKeyListeners:function(){document.removeEventListener("keydown",this._listener)},_buildDataList:function(t){this._datalist=r.DomUtil.create("datalist","",t);var e=Math.floor(1e6*Math.random());this._datalist.id="timeline-datalist-"+e,this._timeSlider.setAttribute("list",this._datalist.id),this._rebuildDataList()},_rebuildDataList:function(){var t=this._datalist;if(t){for(;t.firstChild;)t.removeChild(t.firstChild);var e=r.DomUtil.create("select","",this._datalist);e.setAttribute("aria-label","List of times"),this._getTimes().forEach((function(t){r.DomUtil.create("option","",e).value=t.toString()}))}},_makeButton:function(t,e){var n=this,i=r.DomUtil.create("button",e,t);i.setAttribute("aria-label",e),i.addEventListener("click",(function(){return n[e]()})),r.DomEvent.disableClickPropagation(i)},_makeButtons:function(t){this._makeButton(t,"prev"),this._makeButton(t,"play"),this._makeButton(t,"pause"),this._makeButton(t,"next")},_disableMapDragging:function(){this.map.dragging.disable()},_enableMapDragging:function(){this.map.dragging.enable()},_makeSlider:function(t){var e=r.DomUtil.create("input","time-slider",t);e.setAttribute("aria-label","Slider"),e.type="range",e.min=(this.start||0).toString(),e.max=(this.end||0).toString(),e.value=(this.start||0).toString(),this._timeSlider=e,r.DomEvent.on(this._timeSlider,"mousedown mouseup click touchstart",r.DomEvent.stopPropagation),r.DomEvent.on(this._timeSlider,"change input",this._sliderChanged,this),r.DomEvent.on(this._timeSlider,"mouseenter",this._disableMapDragging,this),r.DomEvent.on(this._timeSlider,"mouseleave",this._enableMapDragging,this)},_makeOutput:function(t){this._output=r.DomUtil.create("output","time-text",t),this._output.innerHTML=this.options.formatOutput(this.start)},_onKeydown:function(t){var e=t.target||t.srcElement;if(!/INPUT|TEXTAREA/.test(e.tagName)){switch(t.keyCode||t.which){case 37:this.prev();break;case 39:this.next();break;case 32:this.toggle();break;default:return}t.preventDefault()}},_sliderChanged:function(t){var e=t.target,n=parseFloat(e instanceof HTMLInputElement?e.value:"0");this._setTime(n,t.type)},_setTime:function(t,e){this.time=t,this.options.waitToUpdateMap&&"change"!==e||this.timelines.forEach((function(e){return e.setTime(t)})),this._output&&(this._output.innerHTML=this.options.formatOutput(t))},_resetIfTimelinesChanged:function(t){this.timelines.length!==t&&(this._recalculate(),this.options.showTicks&&this._rebuildDataList(),this.setTime(this.start))},_autoPlay:function(){var t=this;"loading"===document.readyState?window.addEventListener("load",(function(){return t._autoPlay()})):this.play()},addTimelines:function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.pause();var r=this.timelines.length;e.forEach((function(e){-1===t.timelines.indexOf(e)&&t.timelines.push(e)})),this._resetIfTimelinesChanged(r)},removeTimelines:function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.pause();var r=this.timelines.length;e.forEach((function(e){var n=t.timelines.indexOf(e);-1!==n&&t.timelines.splice(n,1)})),this._resetIfTimelinesChanged(r)},toggle:function(){this._playing?this.pause():this.play()},prev:function(){this.pause();var t=this._nearestEventTime(this.time,-1);this._timeSlider.value=t.toString(),this.setTime(t)},pause:function(t){var e;window.clearTimeout(this._timer),this._playing=!1,null===(e=this.container)||void 0===e||e.classList.remove("playing"),this.syncedControl&&!t&&this.syncedControl.map((function(t){t.pause(!0)}))},play:function(t){var e,n,r=this;window.clearTimeout(this._timer),parseFloat(this._timeSlider.value)===this.end&&(this._timeSlider.value=this.start.toString()),this._timeSlider.value=(parseFloat(this._timeSlider.value)+this._stepSize).toString(),this.setTime(+this._timeSlider.value),parseFloat(this._timeSlider.value)===this.end?(this._playing=!1,null===(e=this.container)||void 0===e||e.classList.remove("playing")):(this._playing=!0,null===(n=this.container)||void 0===n||n.classList.add("playing"),this._timer=window.setTimeout((function(){return r.play(!0)}),this._stepDuration)),this.syncedControl&&!t&&this.syncedControl.map((function(t){t.play(!0)}))},next:function(){this.pause();var t=this._nearestEventTime(this.time,1);this._timeSlider.value=t.toString(),this.setTime(t)},setTime:function(t){this._timeSlider&&(this._timeSlider.value=t.toString()),this._setTime(t,"change")},onAdd:function(t){return this.map=t,this._createDOM(),this.setTime(this.start),this.container},onRemove:function(){this.options.enableKeyboardControls&&this._removeKeyListeners(),r.DomEvent.off(this._timeSlider,"change input",this._sliderChanged,this),r.DomEvent.off(this._timeSlider,"pointerdown mousedown touchstart",this._disableMapDragging,this),r.DomEvent.off(document.body,"pointerup mouseup touchend",this._enableMapDragging,this),this._enableMapDragging()},syncControl:function(t){this.syncedControl||(this.syncedControl=[]),this.syncedControl.push(t)}}),r.timelineSliderControl=function(t){return new r.TimelineSliderControl(t)}},function(t,e,n){var r=n(13),i=n(14);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);t.exports=i.locals||{}},function(t,e,n){"use strict";var r,i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},o=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),a=[];function s(t){for(var e=-1,n=0;n<a.length;n++)if(a[n].identifier===t){e=n;break}return e}function l(t,e){for(var n={},r=[],i=0;i<t.length;i++){var o=t[i],l=e.base?o[0]+e.base:o[0],u=n[l]||0,h="".concat(l," ").concat(u);n[l]=u+1;var c=s(h),f={css:o[1],media:o[2],sourceMap:o[3]};-1!==c?(a[c].references++,a[c].updater(f)):a.push({identifier:h,updater:m(f,e),references:1}),r.push(h)}return r}function u(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var a=o(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var h,c=(h=[],function(t,e){return h[t]=e,h.filter(Boolean).join("\n")});function f(t,e,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=c(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function p(t,e,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),o&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var d=null,v=0;function m(t,e){var n,r,i;if(e.singleton){var o=v++;n=d||(d=u(e)),r=f.bind(null,n,o,!1),i=f.bind(null,n,o,!0)}else n=u(e),r=p.bind(null,n,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=i());var n=l(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var i=s(n[r]);a[i].references--}for(var o=l(t,e),u=0;u<n.length;u++){var h=s(n[u]);0===a[h].references&&(a[h].updater(),a.splice(h,1))}n=o}}}},function(t,e,n){(e=n(15)(!1)).push([t.i,'.leaflet-control.leaflet-timeline-control {\r\n  width: 96%;\r\n  box-sizing: border-box;\r\n  margin: 2%;\r\n  margin-bottom: 20px;\r\n  text-align: center;\r\n}\r\n.leaflet-control.leaflet-timeline-control * {\r\n  vertical-align: middle;\r\n}\r\n.leaflet-control.leaflet-timeline-control input[type="range"] {\r\n  width: 80%;\r\n}\r\n.leaflet-control.leaflet-timeline-control .sldr-ctrl-container {\r\n  float: left;\r\n  width: 15%;\r\n  box-sizing: border-box;\r\n}\r\n.leaflet-control.leaflet-timeline-control .button-container button {\r\n  position: relative;\r\n  width: 20%;\r\n  height: 20px;\r\n}\r\n.leaflet-control.leaflet-timeline-control .button-container button::before,\r\n.leaflet-control.leaflet-timeline-control .button-container button::after {\r\n  content: "";\r\n  position: absolute;\r\n}\r\n.leaflet-control.leaflet-timeline-control\r\n  .button-container\r\n  button.play::before {\r\n  border: 7px solid transparent;\r\n  border-width: 7px 0 7px 10px;\r\n  border-left-color: black;\r\n  margin-top: -7px;\r\n  background: transparent;\r\n  margin-left: -5px;\r\n}\r\n.leaflet-control.leaflet-timeline-control .button-container button.pause {\r\n  display: none;\r\n}\r\n.leaflet-control.leaflet-timeline-control\r\n  .button-container\r\n  button.pause::before {\r\n  width: 4px;\r\n  height: 14px;\r\n  border: 4px solid black;\r\n  border-width: 0 4px;\r\n  margin-top: -7px;\r\n  margin-left: -6px;\r\n  background: transparent;\r\n}\r\n.leaflet-control.leaflet-timeline-control .button-container button.prev::before,\r\n.leaflet-control.leaflet-timeline-control .button-container button.prev::after {\r\n  margin: -8px 0 0;\r\n  background: black;\r\n}\r\n.leaflet-control.leaflet-timeline-control\r\n  .button-container\r\n  button.prev::before {\r\n  width: 2px;\r\n  height: 14px;\r\n  margin-top: -7px;\r\n  margin-left: -7px;\r\n}\r\n.leaflet-control.leaflet-timeline-control .button-container button.prev::after {\r\n  border: 7px solid transparent;\r\n  border-width: 7px 10px 7px 0;\r\n  border-right-color: black;\r\n  margin-top: -7px;\r\n  margin-left: -5px;\r\n  background: transparent;\r\n}\r\n.leaflet-control.leaflet-timeline-control .button-container button.next::before,\r\n.leaflet-control.leaflet-timeline-control .button-container button.next::after {\r\n  margin: -8px 0 0;\r\n  background: black;\r\n}\r\n.leaflet-control.leaflet-timeline-control\r\n  .button-container\r\n  button.next::before {\r\n  width: 2px;\r\n  height: 14px;\r\n  margin-top: -7px;\r\n  margin-left: 5px;\r\n}\r\n.leaflet-control.leaflet-timeline-control .button-container button.next::after {\r\n  border: 7px solid transparent;\r\n  border-width: 7px 0 7px 10px;\r\n  border-left-color: black;\r\n  margin-top: -7px;\r\n  margin-left: -5px;\r\n  background: transparent;\r\n}\r\n.leaflet-control.leaflet-timeline-control.playing button.pause {\r\n  display: inline-block;\r\n}\r\n.leaflet-control.leaflet-timeline-control.playing button.play {\r\n  display: none;\r\n}\r\n',""]),t.exports=e},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var i=(a=r,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(l," */")),o=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(t," */")}));return[n].concat(o).concat([i]).join("\n")}var a,s,l;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var s=0;s<t.length;s++){var l=[].concat(t[s]);r&&i[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),e.push(l))}},e}}]);